var regex_email=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-?\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,validate_email=function(a){if(!a)return!1;if(254<a.length)return!1;var b=regex_email.test(a);if(!b)return!1;var c=a.split("@");if(64<c[0].length)return!1;var d=c[1].split(".");return!d.some(function(f){return 63<f.length})},validate_form=function(a,b,c,d){var f=!0;return a?($("#errorMsgName").addClass("hidden"),$("input[name=\"regName\"]").removeClass("input-err")):(f=!1,$("#errorMsgName").removeClass("hidden"),$("input[name=\"regName\"]").addClass("input-err")),b?($("#errorMsgPhone").addClass("hidden"),$("input[name=\"regPhone\"]").removeClass("input-err")):(f=!1,$("#errorMsgPhone").removeClass("hidden"),$("input[name=\"regPhone\"]").addClass("input-err")),validate_email(c)?($("#errorMsgEmail").addClass("hidden"),$("input[name=\"regEmail\"]").removeClass("input-err")):(f=!1,$("#errorMsgEmail").removeClass("hidden"),$("input[name=\"regEmail\"]").addClass("input-err")),!d||0>=d.length?(f=!1,$("#errorMsgInterest").removeClass("hidden")):$("#errorMsgInterest").addClass("hidden"),f},save_form_mock=function(a){return function(b){b.success(a)}};$(document).ready(function(){$("#register").click(function(a){a.preventDefault(),a.stopPropagation();var b=$("input[name=\"regName\"]").val()?$("input[name=\"regName\"]").val().trim():"",c=$("input[name=\"regPhone\"]").val()?$("input[name=\"regPhone\"]").val().trim():"",d=$("input[name=\"regEmail\"]").val()?$("input[name=\"regEmail\"]").val().trim():"",f=[];if($("input:checkbox[name=\"regInterest\"]:checked").each(function(){f.push($(this).val().trim())}),!!validate_form(b,c,d,f)){$.ajax({url:"https://www.aisfexpo.com.au/api/form-results",type:"POST",headers:{"Content-Type":"application/json"},dataType:"json",data:JSON.stringify({name:b,phone:c,email:d,interests:f}),success:function(h){console.log(h),"string"==typeof h&&(h=JSON.parse(h)),h&&h.success?(console.log("Form submitted"),$("#regForm").fadeOut(300),$("#formSubmitMsg").removeClass("alert-danger").html("\u606D\u559C\u60A8\uFF0C\u62A5\u540D\u6210\u529F\uFF01\u611F\u8C22\u60A8\u7684\u53C2\u4E0E\u3002").addClass("alert-success").fadeIn(300)):(console.error(`Failed to submit form: ${h?h.message:""}`),$("#formSubmitMsg").removeClass("alert-success").html("\u60A8\u7684\u62A5\u540D\u6682\u65F6\u65E0\u6CD5\u63D0\u4EA4\uFF0C\u8BF7\u60A8\u7A0D\u540E\u91CD\u8BD5\uFF01").addClass("alert-danger"))},error:function(h,i,j){console.log(h),console.log(j),$("#formSubmitMsg").removeClass("alert-success").html("\u60A8\u7684\u62A5\u540D\u6682\u65F6\u65E0\u6CD5\u63D0\u4EA4\uFF0C\u8BF7\u60A8\u7A0D\u540E\u91CD\u8BD5\uFF01").addClass("alert-danger")}})}})});